(function(e,t){if(typeof define==="function"&&define.amd){define("smoothScroll",t(e))}else if(typeof exports==="object"){module.exports=t(e)}else{e.smoothScroll=t(e)}})(window||this,function(e){"use strict";var t={};var n=!!document.querySelector&&!!e.addEventListener;var r;var i={speed:500,easing:"easeInOutCubic",offset:0,updateURL:true,callbackBefore:function(){},callbackAfter:function(){}};var s=function(e,t,n){if(Object.prototype.toString.call(e)==="[object Object]"){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){t.call(n,e[r],r,e)}}}else{for(var i=0,s=e.length;i<s;i++){t.call(n,e[i],i,e)}}};var o=function(e,t){var n={};s(e,function(t,r){n[r]=e[r]});s(t,function(e,r){n[r]=t[r]});return n};var u=function(e,t){var n=t.charAt(0);for(;e&&e!==document;e=e.parentNode){if(n==="."){if(e.classList.contains(t.substr(1))){return e}}else if(n==="#"){if(e.id===t.substr(1)){return e}}else if(n==="["){if(e.hasAttribute(t.substr(1,t.length-2))){return e}}}return false};var a=function(e){var t=String(e);var n=t.length;var r=-1;var i;var s="";var o=t.charCodeAt(0);while(++r<n){i=t.charCodeAt(r);if(i===0){throw new InvalidCharacterError("Invalid character: the input contains U+0000.")}if(i>=1&&i<=31||i==127||r===0&&i>=48&&i<=57||r===1&&i>=48&&i<=57&&o===45){s+="\\"+i.toString(16)+" ";continue}if(i>=128||i===45||i===95||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122){s+=t.charAt(r);continue}s+="\\"+t.charAt(r)}return s};var f=function(e,t){var n;if(e==="easeInQuad")n=t*t;if(e==="easeOutQuad")n=t*(2-t);if(e==="easeInOutQuad")n=t<.5?2*t*t:-1+(4-2*t)*t;if(e==="easeInCubic")n=t*t*t;if(e==="easeOutCubic")n=--t*t*t+1;if(e==="easeInOutCubic")n=t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1;if(e==="easeInQuart")n=t*t*t*t;if(e==="easeOutQuart")n=1- --t*t*t*t;if(e==="easeInOutQuart")n=t<.5?8*t*t*t*t:1-8*--t*t*t*t;if(e==="easeInQuint")n=t*t*t*t*t;if(e==="easeOutQuint")n=1+ --t*t*t*t*t;if(e==="easeInOutQuint")n=t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t;return n||t};var l=function(e,t,n){var r=0;if(e.offsetParent){do{r+=e.offsetTop;e=e.offsetParent}while(e)}r=r-t-n;return r>=0?r:0};var c=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)};var h=function(e){return!e||!(typeof JSON==="object"&&typeof JSON.parse==="function")?{}:JSON.parse(e)};var p=function(e,t){if(history.pushState&&(t||t==="true")){history.pushState({pos:e.id},"",window.location.pathname+e)}};t.animateScroll=function(t,n,r){var s=o(s||i,r||{});var u=h(t?t.getAttribute("data-options"):null);s=o(s,u);n="#"+a(n.substr(1));var d=document.querySelector("[data-scroll-header]");var v=d===null?0:d.offsetHeight+d.offsetTop;var m=e.pageYOffset;var g=l(document.querySelector(n),v,parseInt(s.offset,10));var y;var b=g-m;var w=c();var E=0;var S,x;p(n,s.updateURL);var T=function(r,i,o){var u=e.pageYOffset;if(r==i||u==i||e.innerHeight+u>=w){clearInterval(o);s.callbackAfter(t,n)}};var N=function(){E+=16;S=E/parseInt(s.speed,10);S=S>1?1:S;x=m+b*f(s.easing,S);e.scrollTo(0,Math.floor(x));T(x,g,y)};var C=function(){s.callbackBefore(t,n);y=setInterval(N,16)};if(e.pageYOffset===0){e.scrollTo(0,0)}C()};var d=function(e){var n=u(e.target,"[data-scroll]");if(n&&n.tagName.toLowerCase()==="a"){e.preventDefault();t.animateScroll(n,n.hash,r,e)}};t.destroy=function(){if(!r)return;document.removeEventListener("click",d,false);r=null};t.init=function(e){if(!n)return;t.destroy();r=o(i,e||{});document.addEventListener("click",d,false)};return t})